<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Badge Website</title>

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="./Favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="./Favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="./Favicon/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="icon" href="Favicon/favicon.ico?v=2">
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="Favicon/favicon-32x32.png" alt="Logo" />
                <h1>Badge Website</h1>
            </div>                
            <nav class="nav-links">
              <ul>
                  <li><a href="/">Home</a></li>
                  <li><a href="./pages/about.html">About</a></li>
                  <li><a href="./pages/contact.html">Contact</a></li>
                  <li><a href="./pages/badges.html">Badges</a></li>
              </ul>
          </nav>
          <nav class="nav-links" aria-label="Main Navigation">
            <ul>
                <li><a href="/" aria-label="Home">Home</a></li>
                <li><a href="./pages/about.html" aria-label="About">About</a></li>
                <li><a href="./pages/contact.html" aria-label="Contact">Contact</a></li>
                <li><a href="./pages/badges.html" aria-label="Badges">Badges</a></li>
            </ul>
        </nav>
        </div>
    </header>

    <div class="badge" align = "center" style = "background: linear-gradient(35deg, rgba(10, 151, 207, 0.9) 50%, rgba(15, 61, 214, 0.9) 50%);">
      <br /> <br />
      <img
          src="https://ai.mlsc-amity.tech/dist/imgdb/newcomer.png"
          alt="Badge Website"
      /> <br /> <br />
      <div class="badge-details">
          <h2 id="typingeffect">Season of AI | Beginner AI Learner</h2> <br />
          <p>Awarded to: <strong>hello.rajat.rajput.rajput@gmail.com</strong></p>
          <p>
              Issued on: <strong>Jul 28, 2024</strong> at <strong>1:11 AM</strong> <br>
          </p>
      </div>
      <div class="download-card">
          <a download href="badge.png" class="download-button">Download Badge</a>
      </div>

      <!-- Share Section with Social Media Icons -->
      <div class="share-section">
          <p>Share your badge:</p> <br />
          <a
              href="https://x.com/intent/tweet?text=I%20earned%20the%20Season%20of%20AI%20Beginner%20AI%20Learner%20Badge!%20Check%20it%20out:%20https://ai.mlsc-amity.tech%20&hashtags=AI,Badge"
              target="_blank"
              class="share-button twitter"
          >
              <i class="fa-brands fa-square-x-twitter"></i>
          </a>
          <a
              href="https://www.linkedin.com/shareArticle?mini=true&url=https://ai.mlsc-amity.tech&title=Beginner%20AI%20Learner%20Badge&summary=I%20earned%20the%20Season%20of%20AI%20Beginner%20AI%20Learner%20Badge!%20Check%20it%20out:"
              target="_blank"
              class="share-button linkedin"
          >
              <i class="fab fa-linkedin"></i>
          </a>
          <a
              href="https://www.facebook.com/sharer/sharer.php?u=https://ai.mlsc-amity.tech"
              target="_blank"
              class="share-button facebook"
          >
              <i class="fab fa-facebook-f"></i>
          </a>
      </div> <br />

    <div class="slider-container">
        <div class="slider" id="badge-slider">
            <!-- Slides will be dynamically generated here -->
        </div>

        <!-- Slider Navigation -->
        <div class="slider-nav">
            <button id="prev-btn">
                <img src="assets/icons/chevron-left.png" alt="Prev" width="32" height="32">
            </button>
            <button id="next-btn">
                <img src="assets/icons/chevron-right.png" alt="Next" width="32" height="32">
            </button>
        </div>
    </div> <br>

    <footer align = "center">
      <header align = "center"><div class = "header-container" align = "center">
        <div class="footer-text" align = "center">
            <p align = "center">
                Follow us on
                <a href="https://github.com/rajatuiwebdev/badge-website">Github</a> |
                <a href="https://www.linkedin.com/in/rajatrajput2004/">LinkedIn</a>
            </p>
            <p>&copy; 2024 Rajat Rajput | All rights reserved</p>
        </div>
      </div></header>
    </footer>

    <!-- QRious Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

    <script>

        // Typing effect for badge title
        const badgeTitle = document.getElementById('typingeffect');
        const badgeTitleText = badgeTitle.innerText; 
        badgeTitle.innerText = '';  
        let index = 0;
        let typingSpeed = 100; 
        let start = true; 

        function typeEffect() {
            if (start) {
                if (index < badgeTitleText.length) {
                    badgeTitle.innerText = badgeTitleText.substring(0, index+1);
                    index++;
                    setTimeout(typeEffect, typingSpeed);
                } else {
                    start = false;
                    setTimeout(typeEffect, 2000); 
                }
            } else {
                if (index > 0) {
                    badgeTitle.innerText = badgeTitleText.substring(0, index - 1);
                    index--;
                    setTimeout(typeEffect, typingSpeed); 
                } else {
                    start = true;
                    setTimeout(typeEffect, 500);
                }
            }
        }

        window.onload = typeEffect; 

        function createConfetti() {
            const confettiContainer = document.createDocumentFragment();
            const totalDuration = 5000; // 10 seconds in milliseconds
            const intervalTime = 100; // Time in milliseconds to create a new confetti
            const totalConfetti = (totalDuration / intervalTime) * 3; // Total confetti to be created in 10 seconds

            let count = 0;
            const intervalId = setInterval(() => {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.backgroundColor = getRandomColor();
                confetti.style.left = `${Math.random() * 100}vw`;

                // Random fall duration for each confetti piece
                const fallDuration = Math.random() * 3 + 1;
                confetti.style.animationDuration = `${fallDuration}s, ${fallDuration * 0.5}s`; // Match fade-out duration

                confettiContainer.appendChild(confetti);
                document.body.appendChild(confetti);

                count++;
                if (count >= totalConfetti) {
                    clearInterval(intervalId); // Stop after creating confetti for 10 seconds
                }
            }, intervalTime);
        }

        function getRandomColor() {
            // Red color palette
            const colorsRed = [
                '#ff0a54',
                '#ff477e',
                '#ff7096',
                '#ff85a1',
                '#fbb1bd',
            ];
            // Blue color palette
            const colorsBlu = [
                '#0d6efd',
                '#0a58ca',
                '#007bff',
                '#6cb2eb',
                '#81d4fa',
            ];

            // populating confetti with blue color
            return colorsBlu[Math.floor(Math.random() * colorsBlu.length)];
        }

        window.addEventListener('load', () => {
            createConfetti();
        });

        // Theme toggle functionality
        const themeToggleButton = document.getElementById('theme-toggle');
        const body = document.body;

        themeToggleButton.addEventListener('click', () => {
            body.classList.toggle('dark-theme');
            const isDarkTheme = body.classList.contains('dark-theme');
            themeToggleButton.innerHTML = isDarkTheme 
                ? '<i class="fas fa-moon"></i>' 
                : '<i class="fas fa-sun "></i>';
        });

        document.addEventListener("DOMContentLoaded", function() {
          const sidebar = document.querySelector('.sidebar');
          sidebar.style.display = 'none';
      });

      function showSidebar() {
          const sidebar = document.querySelector('.sidebar');
          sidebar.style.display = 'flex'; // Show the sidebar
      }

      function hideSidebar() {
          const sidebar = document.querySelector('.sidebar');
          sidebar.style.display = 'none'; // Hide the sidebar
      }
    </script>

    <script>
      // badges list slider
      const badgeList = [
        {
          imageUrl: "https://ai.mlsc-amity.tech/dist/imgdb/newcomer.png",
          title: "Season of AI | Beginner AI Learner",
          awardedTo: "hello.rajat.rajput@gmail.com",
          issuedOn: "Jul 28, 2024",
          issuedAt: "1:11 AM",
          downloadLink: "assets/images/badge.png",
        },
        {
          imageUrl: "https://ai.mlsc-amity.tech/dist/imgdb/newcomer.png",
          title: "Season of AI | Intermediate AI Learner",
          awardedTo: "example.user@example.com",
          issuedOn: "Sep 17, 2024",
          issuedAt: "3:55 PM",
          downloadLink: "assets/images/badge.png",
        },
        {
          imageUrl: "https://ai.mlsc-amity.tech/dist/imgdb/newcomer.png",
          title: "Season of AI | Advance AI Learner",
          awardedTo: "example.user@example.com",
          issuedOn: "dec 17, 2024",
          issuedAt: "8:55 PM",
          downloadLink: "assets/images/badge.png",
        }
      ];

      const slider = document.getElementById('badge-slider');

      badgeList.forEach((badge) => {
        const slide = document.createElement('div');
        slide.classList.add('badge-slide');

        slide.innerHTML = `
          <div class="badge">
            <img src="${badge.imageUrl}" alt="Badge Image" />
            <div class="badge-details">
              <h2 class="typingeffect">${badge.title}</h2>
              <p>Awarded to: <strong>${badge.awardedTo}</strong></p>
              <p>Issued on: <strong>${badge.issuedOn}</strong> at <strong>${badge.issuedAt}</strong></p>
            </div>
            <div class="qr-download-card">
              <a id="download-qr-button" class="download-button">Download QR Code</a>
              <canvas id="qr-code-canvas" style="display: none;"></canvas>
            </div>
            <div class="download-card">
              <a download href="${badge.downloadLink}" class="download-button">Download Badge</a>
            </div>
            <div class="share-section">
              <p>Share your badge:</p>
              <a href="https://x.com/intent/tweet?text=I%20earned%20the%20${badge.title}%20Badge!%20Check%20it%20out:%20https://ai.mlsc-amity.tech%20&hashtags=AI,Badge" target="_blank" class="share-button twitter">
                <i class="fa-brands fa-square-x-twitter"></i>
              </a>
              <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://ai.mlsc-amity.tech&title=${badge.title}&summary=I%20earned%20the%20${badge.title}%20Badge!%20Check%20it%20out:" target="_blank" class="share-button linkedin">
                <i class="fab fa-linkedin"></i>
              </a>
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://ai.mlsc-amity.tech" target="_ blank" class="share-button facebook">
                <i class="fab fa-facebook-f"></i>
              </a>
            </div>
          </div>
        `;

        slider.appendChild(slide);
      });

      let currentIndex = 0;

      document.getElementById('next-btn').addEventListener('click', () => {
        if (currentIndex < badgeList.length - 1) {
          currentIndex++;
        } else {
          currentIndex = 0;
        }
        updateSliderPosition();
      });

      document.getElementById('prev-btn').addEventListener('click', () => {
        if (currentIndex > 0) {
          currentIndex--;
        } else {
          currentIndex = badgeList.length - 1;
        }
        updateSliderPosition();
      });

      function updateSliderPosition() {
        slider.style.transform = `translateX(-${currentIndex * 100}%)`;
      }
    </script>

    <script>
      // Typing effect for badge title
      document.addEventListener("DOMContentLoaded", function() {
        const badgeTitles = document.querySelectorAll('.typingeffect'); 
        let typingSpeed = 100; // Speed of typing
        let pauseBetweenBadges = 2000; // Pause between badges when typing completes

        badgeTitles.forEach((badgeTitle, index) => {
          const badgeTitleText = badgeTitle.innerText;
          badgeTitle.innerText = ''; 
          let charIndex = 0;
          let typingDirection = 1; 

          // Start typing effect for each badge
          function typeEffect() {
            if (typingDirection === 1 && charIndex < badgeTitleText.length) {
              badgeTitle.innerText = badgeTitleText.substring(0, charIndex + 1);
              charIndex++;
              setTimeout(typeEffect, typingSpeed);
            } else if (typingDirection === -1 && charIndex > 0) {
              badgeTitle.innerText = badgeTitleText.substring(0, charIndex - 1);
              charIndex--;
              setTimeout(typeEffect, typingSpeed);
            } else {
              // Reverse typing direction once the typing/deleting is done
              typingDirection *= -1;

              // Pause before switching direction
              setTimeout(typeEffect, typingDirection === 1 ? pauseBetweenBadges : 500);
            }
          }

          // Delay starting the typing effect for each badge to create sequential typing
          setTimeout(typeEffect, index * (badgeTitleText.length * typingSpeed + pauseBetweenBadges));
        });
      });

      // QR Code Generation
      const qrCodeCanvas = document.getElementById('qr-code-canvas');

      // Badge details
      const recipientEmail = 'hello.rajat.rajput.rajput@gmail.com';
      const issuedDate = 'Jul 28, 2024';
      const badgeLink = `https://ai.mlsc-amity.tech?badge=${recipientEmail}&issued=${issuedDate}`;

      // Create QR code
      const qrCode = new QRious({
        element: qrCodeCanvas,
        size: 200,
        value: `Badge awarded to: ${recipientEmail}\nIssued on: ${issuedDate}\nLink: ${badgeLink}`,
      });

      // Download QR button functionality
      document.getElementById('download-qr-button').addEventListener('click', function () {
        const link = document.createElement('a');
        link.href = qrCodeCanvas.toDataURL();
        link.download = 'badge-qr.png';
        link.click();
      });

      function createConfetti() {
        const totalConfetti = 100; // Total number of confetti pieces
        const confettiColors = ['#0d6efd', '#0a58ca', '#007bff', '#6cb2eb', '#81d4fa']; // Blue color palette

        for (let i = 0; i < totalConfetti; i++) {
          const confetti = document.createElement('div');
          confetti.classList.add('confetti');

          // Assign random sizes, colors, and positions for confetti pieces
          const size = Math.random() * 10 + 5 + 'px';
          const leftPosition = Math.random() * 100 + 'vw';
          const animationDuration = Math.random() * 3 + 2 + 's';
          const animationDelay = Math.random() * 2 + 's';
          const color = confettiColors[Math.floor(Math.random() * confettiColors.length)];

          confetti.style.width = size;
          confetti.style.height = size;
          confetti.style.left = leftPosition;
          confetti.style.backgroundColor = color;
          confetti.style.animationDuration = animationDuration;
          confetti.style.animationDelay = animationDelay;

          document.body.appendChild(confetti);

          // Remove confetti from DOM after it falls
          setTimeout(() => {
            confetti.remove();
          }, parseFloat(animationDuration) * 1000); // Convert animation duration from seconds to milliseconds
        }
      }

      function getRandomColor() {
        // Blue color palette for confetti
        const colorsBlu = ['#0d6efd ', '#0a58ca', '#007bff', '#6cb2eb', '#81d4fa'];
        return colorsBlu[Math.floor(Math.random() * colorsBlu.length)];
      }

      // Trigger the confetti on page load
      window.addEventListener('load', () => {
        createConfetti();
      });

      // Search bar functionality
      const searchInput = document.getElementById('badge-search');
      const searchButton = document.getElementById('search-button');
      const badges = document.querySelectorAll('.badge-item');

      function filterBadges() {
        const searchQuery = searchInput.value.toLowerCase();

      badges.forEach(badge => {
        const badgeTitle = badge.querySelector('.badge-details h2').innerText.toLowerCase();
        
        if (badgeTitle.includes(searchQuery)) {
          badge.style.display = 'block';  // Show the badge if it matches
        } else {
          badge.style.display = 'none';   // Hide the badge if it doesn't match
        }
      });
    }

      // Add event listener for search button click
      searchButton.addEventListener('click', function () {
        filterBadges();  
      });

      searchInput.addEventListener('keyup', function (event) {
        if (event.key === 'Enter') {
          filterBadges();
        }
      });

    </script>

</body>
</html>